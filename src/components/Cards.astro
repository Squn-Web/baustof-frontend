---
interface Props {
  cards: GetMainOffersQueryResult;
}

import { Image } from "astro:assets";
import { urlForImage } from "../lib/urlForImage";
import type { GetMainOffersQueryResult } from "../../sanity.types";

const { cards } = Astro.props;
---

<div class="cards-wrapper">
  {
    cards.map((card) => {
      return (
        <div class="card">
          {card.icon.asset && <Image src={urlForImage(card.icon.asset).url()} width={64} height={64} alt={card.icon.alt} />}
          <h4>{card.name}</h4>
          <p>{card.shortDescription}</p>
        </div>
      );
    })
  }
</div>

<style>
  .card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: var(--card-width);
    text-align: center;
    gap: 2rem;
    background-color: var(--background-color);
    padding: 5rem 2rem;
    -webkit-box-shadow: 0px 10px 20px 0px rgba(0, 0, 0, 0.25);
    -moz-box-shadow: 0px 10px 20px 0px rgba(0, 0, 0, 0.25);
    box-shadow: 0px 10px 20px 0px rgba(0, 0, 0, 0.25);
  }
  p {
    line-height: var(--card-interline);
  }
</style>
